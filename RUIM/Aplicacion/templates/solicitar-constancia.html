<!doctype html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Solicitar Constancia</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <style>

      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .container {
        max-width: 960px;
      }

    </style>
  </head>


  <body class="bg-light">
    
    <div class="container">
      <main>
        <div class="py-4 text-center">
            <a href="/">
                <img class="d-block mx-auto mb-4" src="{% static 'images/logo.png' %}" alt="logo unison" width="72" height="72"></a>
          <h2>Generador de Constancias</h2>
        </div>

        <div class="row g-5">
          <div class="col"></div>

          <div class="col-md-7">
            <p class="fs-5">
              Información
            </p>

            <form method="POST" action="/send_email/" autocomplete="on" class="needs-validation" novalidate>{% csrf_token %}
              <div class="row g-0">

                <div class="form-floating col-12 gy-3">
                    <input name="Email" type="email" class="form-control" id="Email" value="" placeholder="nombre@ejemplo.com" required>
                    <label for="floatingInput">Correo electrónico</label>
                    <div class="invalid-feedback">
                        Introduce el correo electrónico.
                    </div>
                </div>

                <div class="col-12 gy-3">
                  <button href="/send_email/" id="solicitarConstBtn" class="btn btn-primary" type="submit">Solicitar</button>
                 </div>

                 {% if messages %}
                 {% for message in messages %}

                   {% if message.tags == 'success' %}
                   <div class="alert alert-success alert-dismissible fade show" style="margin-top: 12px;" role="alert">
                     <strong>Solicitud aprobada:</strong> {{ message }}
                   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button></div>
                   {% endif %}

                   {% if message.tags == 'error' %}
                   <div class="alert alert-danger alert-dismissible fade show" style="margin-top: 12px;" role="alert">
                     <strong>Solicitud denegada:</strong> {{ message }}
                   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button></div>
                    {% endif %}
                  {% endfor %}
                {% endif %}

              </div>
            </form>

          </div>
          <div class="col"></div>
        </div>
      </main>

      <footer class="pt-5 text-muted text-small">
      </footer>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <script src="{% static 'js/form-validation.js' %}"></script>
    <script src="{% static 'js/alerta-solicitud.js' %}"></script>
  </body>


</html>
